<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jules Crafting Corner - Registration</title>
    <style>
        body {
            background-color: #ffd9e3;
            /* Pink background color */
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
        }

        header {
            background-color: #ff80b3;
            /* Darker pink for header */
            color: #fff;
            padding: 10px;
            text-align: center;
        }

        nav {
            text-align: center;
            padding: 10px;
        }

        nav a {
            margin: 0 10px;
            text-decoration: none;
            color: #333;
        }

        section {
            padding: 20px;
            text-align: center;
        }

        footer {
            background-color: #ff80b3;
            color: #fff;
            padding: 10px;
            text-align: center;
            position: absolute;
            bottom: 0;
            width: 100%;
        }
    </style>
</head>

<body>
    <header>
        <img src="01DEC706-3183-4853-8AB2-EBCCD27D8118.jpg" alt="Jules Crafting Corner Logo" height="120" width="120">
        <h1>Jules Crafting Corner</h1>
    </header>

    <section>
        <h2>Registration</h2>
        <div id="registrationForm">
            <input type="text" id="username" placeholder="Username">
            <input type="email" id="email" placeholder="Email">
            <input type="password" id="password" placeholder="Password">
            <button id="registerButton">Register</button>
        </div>
    </section>

    <footer>
        <p>&copy; 2024 Jules Crafting Corner</p>
    </footer>

    <script src="config.js"></script>
    <script src="https://sdk.amazonaws.com/js/aws-sdk-2.966.0.min.js"></script>
    <script>
        document.getElementById('registerButton').addEventListener('click', async function(event) {
            event.preventDefault();

            const username = document.getElementById('username').value;
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;

            const userData = {
                Username: username,
                Password: password,
                UserAttributes: [
                    { Name: 'email', Value: email }
                ]
            };

            AWS.config.update({ region: config.cognito.region });

            const cognitoidentityserviceprovider = new AWS.CognitoIdentityServiceProvider();

            cognitoidentityserviceprovider.signUp(userData, function(err, data) {
                if (err) {
                    console.error('Error:', err);
                    alert('Registration failed. Please try again later.');
                } else {
                    console.log('Success:', data);
                    alert('Registration successful! Please check your email to verify your account.');
                    // Optionally, redirect the user to another page after successful registration
                    // window.location.href = '/success.html';

                    // Clear the form fields
                    document.getElementById('username').value = '';
                    document.getElementById('email').value = '';
                    document.getElementById('password').value = '';
                }
            });
        });
    </script>
</body>

</html>
